@import '_variables.scss';

app-monitor {
  display: block;
  line-height: 1em;

  .container {
    display: grid;
    margin-bottom: 2em;
    grid-gap: 1em;
    grid-template-areas:
      'title'
      'friendly-clan'
      'friendly'
      'enemy-clan'
      'enemy';

    >p-card .ui-card {
      margin-bottom: 0;
    }

    &.fz-small {
      font-size: 0.7em;
    }

    &.fz-normal {
      font-size: 0.85em;
    }

    &.fz-big {
      font-size: 1em;
    }

    &.fz-huge {
      font-size: 1.2em;
    }
  }


  #monitor-title {
    grid-area: title;
  }

  #monitor-friendly-clan {
    grid-area: friendly-clan;
  }

  #monitor-enemy-clan {
    grid-area: enemy-clan;
  }

  #monitor-friendly {
    grid-area: friendly;
  }

  #monitor-enemy {
    grid-area: enemy;
  }

  p-card.no-padding .ui-card-body {
    padding: 0;
  }
}

// app-player {
//   // display: block;
//   background: $secondaryDarkColor;

//   &.high-contrast-mode {
//     background: #FFF;
//     color: $primaryTextColor;

//     app-player.me {
//       border-color: $primaryTextColor;
//     }
//   }


// }

.high-contrast-mode {
  .ui-card {
    background: #FFF;
  }


  app-player {
    color: $primaryTextColor;

    &:hover {
      background: transparentize($secondaryColor, 0.75) !important;
    }
  }
}

hr.player-seperator {
  background: $secondaryColor;
  height: 1px;
  margin: 0 1em;
  padding: 0;
  border: 0;
}

app-player {
  box-sizing: border-box;
  display: block;
  padding: 0 1em;
  cursor: pointer;
  transition: all .3s ease-in-out;
  width: 100%;
  border-width: 2px;
  border-style: solid;
  // border: 1px solid #FFF;

  &:not(.me):not(.border-mode) {
    border-color: transparent !important;
  }

  &.border-mode {
    padding: 2px 1em 2px .3em;
    border-width: 0 0 0 .7em;
    border-style: solid;
  }

  &:hover {
    background: transparentize($secondaryColor, 0.5) !important;
  }

  .info-wrapper {
    display: grid;
    grid-gap: .5em;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: repeat(6, 1fr);
    padding: calc(0.75em - 2px) 0;
    width: 100%;
    overflow: hidden;

    &.force-white>div:not(#name)>strong {
      color: $textColor !important;
    }

    &.player {
      grid-template-areas: 'name karma'
        'ovr-winrate ovr-battles'
        'ship pr'
        'winrate battles'
        'wins avg-damage'
        'avg-frags avg-xp';
    }

    &.hidden,
    &.bot {
      grid-template-areas: 'name karma'
        'ship message'
        '. message'
        '. message'
        '. message'
        '. message';
    }

    &.no-battles {
      grid-template-areas: 'name karma'
        'ovr-winrate ovr-battles'
        'ship .'
        'message message '
        'message message'
        'message message';
    }

    &.bot,
    &.hidden {

      #ovr-winrate,
      #ovr-battles,
      #karma,
      #winrate,
      #battles,
      #wins,
      #pr,
      #avg-damage,
      #avg-frags,
      #avg-xp {
        display: none;
      }

      #message {
        display: block;
      }
    }

    &.no-battles {

      #winrate,
      #battles,
      #pr,
      #wins,
      #avg-damage,
      #avg-frags,
      #avg-xp {
        display: none;
      }

      #message {
        display: block;
      }
    }

    &.legacy {

      #ovr-winrate,
      #ovr-battles,
      #karma,
      #pr,
      #wins,
      #avg-xp {
        display: none;
      }


      grid-template-columns: 1fr 1fr;
      grid-template-rows: repeat(3, 1fr);
      grid-template-areas: 'name winrate'
      'ship avg-damage'
      'battles avg-frags';

      &.hidden,
      &.bot {
        grid-template-areas:
          'name message message message'
          'ship message message message'
          'ship message message message';
      }
    }

    #message {
      grid-area: message;
      display: none;
      margin: auto;
    }

    #name {
      grid-area: name;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    #ovr-winrate {
      grid-area: ovr-winrate;
    }

    #ovr-battles {
      grid-area: ovr-battles;
    }

    #karma {
      grid-area: karma;
    }

    #ship {
      grid-area: ship;
    }

    #winrate {
      grid-area: winrate;
    }

    #battles {
      grid-area: battles;
    }

    #wins {
      grid-area: wins;
    }

    #pr {
      grid-area: pr;
    }

    #avg-damage {
      grid-area: avg-damage;
    }

    #avg-frags {
      grid-area: avg-frags;
    }

    #avg-xp {
      grid-area: avg-xp;
    }
  }

  &.last {
    .info-wrapper {
      border-bottom: 0;
    }
  }


}

app-team {
  display: block;
  cursor: pointer;
  padding: 1em;

  &:hover {
    background: transparentize($secondaryColor, 0.5);
  }

  .team-overall-wrapper {
    .inner {
      display: inline-block;

      >* {
        &:first-child {
          display: block;
        }

        margin-right: 1em;
      }

      margin-right: 2em;
    }
  }
}

/* Larger than mobile */
@media (min-width: 400px) {}

/* Larger than phablet */
@media (min-width: 550px) {
  app-player {
    .info-wrapper {
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: repeat(6, 1fr);

      &.player {
        grid-template-areas: 'name karma pr'
          '. ovr-winrate ovr-battles'
          'ship winrate battles '
          '. wins avg-damage'
          '. avg-frags avg-xp';
      }

      &.hidden,
      &.bot {
        grid-template-areas: 'name karma pr'
          '. message message'
          'ship message message '
          '. message message'
          '. message message';
      }

      &.no-battles {
        grid-template-areas: 'name karma pr'
          '. ovr-winrate ovr-battles'
          'ship message message '
          '. message message'
          '. message message';
      }

      &.legacy {

        #wins,
        #avg-xp {
          display: block;
        }

        grid-template-columns: 30% 20% 20% 30%;
        grid-template-rows: repeat(2, 1fr);
        grid-template-areas: 'name battles wins avg-damage'
        'ship avg-xp winrate avg-frags';

        &.hidden,
        &.bot {

          #wins,
          #avg-xp {
            display: none;
          }

          grid-template-areas: 'name message message message'
          'ship message message message';
        }
      }
    }
  }
}

/* Larger than tablet */
@media (min-width: 750px) {
  app-monitor {
    .container {

      grid-template-columns: 1fr 1fr 1fr 1fr;
      grid-template-rows: auto;
      grid-template-areas: 'friendly-clan friendly-clan enemy-clan enemy-clan'
        'friendly friendly enemy enemy';
    }
  }

  app-player {
    .info-wrapper {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: repeat(6, 1fr);

      &.player {
        grid-template-areas: 'name karma'
          'ovr-winrate ovr-battles'
          'ship pr'
          'winrate battles '
          'wins avg-damage'
          'avg-frags avg-xp';
      }

      &.hidden,
      &.bot {
        grid-template-areas: 'name message'
          'ship message'
          '. message'
          '. message'
          '. message'
          '. message';
      }

      &.no-battles {
        grid-template-areas: 'name karma'
          'ovr-winrate ovr-battles'
          'ship .'
          'message message '
          'message message'
          'message message';
      }

      &.legacy {
        #wins {
          display: none;
        }

        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows: repeat(3, 1fr);
        grid-template-areas: 'name name winrate'
        'ship battles avg-damage'
        'ship avg-xp avg-frags';

        &.hidden,
        &.bot {
          grid-template-areas:
            'name message message message'
            'ship message message message'
            'ship message message message';
        }
      }
    }
  }
}

/* Larger than desktop */
@media (min-width: 1000px) {}

/* Larger than Desktop HD */
@media (min-width: 1200px) {
  app-monitor {
    .container {
      grid-template-areas:
        'friendly-clan friendly-clan enemy-clan enemy-clan'
        'friendly friendly enemy enemy';
    }
  }

  app-player {
    .info-wrapper {
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: repeat(6, 1fr);

      &.player {
        grid-template-areas: 'name karma pr'
          '. ovr-winrate ovr-battles'
          'ship winrate battles '
          '. wins avg-damage'
          '. avg-frags avg-xp';
      }

      &.hidden,
      &.bot {
        grid-template-areas: 'name karma pr'
          '. message message'
          'ship message message '
          '. message message'
          '. message message';
      }

      &.no-battles {
        grid-template-areas: 'name karma pr'
          '. ovr-winrate ovr-battles'
          'ship message message '
          '. message message'
          '. message message';
      }

      &.legacy {
        #wins {
          display: block;
        }

        grid-template-columns: 30% 20% 20% 30%;
        grid-template-rows: repeat(2, 1fr);
        grid-template-areas: 'name battles wins avg-damage'
        'ship avg-xp winrate avg-frags';

        &.hidden,
        &.bot {
          #wins {
            display: none;
          }

          grid-template-areas: 'name message message message'
          'ship message message message';
        }
      }
    }
  }
}

@media (min-width: 1440px) {
  app-player {
    .info-wrapper {
      grid-template-columns: 34% 22% 22% 22%;
      grid-template-rows: repeat(3, 1fr);

      &.player {
        grid-template-areas:
          'name ovr-winrate ovr-battles karma'
          'ship winrate battles wins'
          'pr avg-damage avg-frags avg-xp';
      }

      &.hidden,
      &.bot {
        grid-template-areas:
          'name message message message'
          'ship message message message'
          '. message message message';
      }

      &.no-battles {
        grid-template-areas:
          'name ovr-winrate ovr-battles karma'
          'ship message message message'
          'pr message message message';
      }

      &.legacy {
        grid-template-rows: repeat(2, 1fr);
        grid-template-areas:
          'name battles wins avg-damage'
          'ship avg-xp winrate avg-frags';

        &.hidden,
        &.bot {
          grid-template-rows: repeat(2, 1fr);
          grid-template-areas:
            'name message message message'
            'ship message message message';
        }
      }
    }
  }
}
